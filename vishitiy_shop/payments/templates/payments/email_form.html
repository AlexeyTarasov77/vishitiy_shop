{% extends "base.html" %}
{% load static %} {% load crispy_forms_tags %}

{% block links %}
    <link rel="stylesheet" href="{% static 'payments/css/payment.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&display=swap">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
{% endblock links %}



{% block content %}


<div class="wrapper">
    <form method="POST">
        {% csrf_token %}

            <div class="flex items-center justify-content-center text-white flex-column" style="height: 100vh">
                    <div>
                        <h1 class="text-center">Заповни данні</h1>
                        {{form|crispy}}

                        <div class="container-for-select-post-information" style="display: flex; flex-direction: column; padding-bottom: 20px;">
                            <select id="city-select" style="background-color: black; margin-bottom: 20px;">
                                {% for city in cities %}
                                    <option value="{{ city.CityID }}">{{ city.Description }}</option>
                                {% endfor %}
                            </select>

                            <select id="post-office-select" name="post_office_id" style="background-color: black;">
                                {% for office in post_offices %}
                                    <option value="{{ office.Ref }}">{{ office.Description }}</option>
                                {% endfor %}
                            </select>
                        </div>

                            <button type="submit" class="btn btn-light col-sm-12" >Оформити</button>
                    </div>
                

            </div>    
        </form>
</div>
{% endblock content %}



{% block js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#city-select').change(function() {
                var selectedCityId = $(this).val();

                $.ajax({
                    url: '',
                    type: 'GET',
                    data: {
                        city_id: selectedCityId
                    },
                    success: function(data) {
                        
                    },
                    
                });
            });
        });
    </script>
{% endblock js %}